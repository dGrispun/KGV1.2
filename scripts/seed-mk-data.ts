import { createBrowserClient } from '@supabase/ssr'
import * as dotenv from 'dotenv'

// Load environment variables
dotenv.config({ path: '.env.local' })

// Create Supabase client for seeding
function createClient() {
  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL
  const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY

  if (!supabaseUrl || !supabaseAnonKey) {
    throw new Error('Missing Supabase environment variables')
  }

  return createBrowserClient(supabaseUrl, supabaseAnonKey)
}

// MK Seasons Data - moved from the mk-data page
const MK_SEASONS_DATA = [
  {
    name: 'Tier 1 Unit Tome',
    values: [800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800, 800],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  },
  {
    name: 'Tier 2 Unit Tome',
    values: [4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000, 4000],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  },
  {
    name: 'Tier 3 Unit Tome',
    values: [20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  },
  {
    name: 'Tier 4 Unit Tome',
    values: [100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  },
  {
    name: 'Crown of the Oracle',
    values: [7000, 7000, 3500, 3500, 1400, 1400, 1400, 700, 700, 280, 280, 280, 140, 140, 280, 280, 280, 280, 140, 140, 280, 280, 280, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 280, 280, 280, 280, 140, 140, 280, 280, 280, 280, 280, 280, 280, 280],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 5, 5, 5, 5, 5, 25, 25, 25, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 625, 625, 625, 625, 625, 625, 3125, 3125, 3125, 3125, 3125, 3125, 15625, 15625]
  },
  {
    name: 'Master Talent Book',
    values: [700, 700, 350, 350, 140, 140, 140, 70, 70, 140, 140, 140, 70, 70, 140, 140, 140, 140, 70, 70, 140, 140, 140, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 140, 140, 140, 140, 70, 70, 140, 140, 140, 140, 140, 140, 140, 140],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 5, 5, 5, 5, 25, 25, 25, 25, 25, 25, 125, 125, 125, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3125, 3125, 3125, 3125, 3125, 3125, 15625, 15625, 15625, 15625, 15625, 15625, 78125, 78125]
  },
  {
    name: 'Rare Dragon Rune',
    values: [70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  },
  {
    name: 'Excellent Dragon Rune',
    values: [700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  },
  {
    name: 'Perfect Dragon Rune',
    values: [7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000, 7000],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  },
  {
    name: 'Epic Dragon Rune',
    values: [14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  },
  {
    name: 'Light Reagent',
    values: [70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  },
  {
    name: 'Forge Hammer',
    values: [100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  },
  {
    name: 'Advanced Summoning Spell',
    values: [700, 700, 700, 700, 700, 700, 700, 350, 140, 140, 140, 70, 70, 140, 140, 140, 140, 140, 70, 70, 140, 140, 140, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 140, 140, 140, 70, 70, 140, 140, 140, 140, 70, 70, 70, 140, 140],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 5, 5, 5, 5, 5, 5, 25, 25, 25, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 125, 125, 125, 125, 125, 625, 625, 625, 625, 625, 625, 625, 3125, 3125]
  },
  {
    name: 'Perfect Summoning Spell',
    values: [7000, 7000, 7000, 7000, 7000, 7000, 7000, 3500, 1400, 1400, 1400, 700, 700, 280, 280, 280, 280, 280, 140, 140, 280, 280, 280, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 280, 280, 280, 140, 140, 280, 280, 280, 280, 140, 140, 140, 280, 280],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 5, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 25, 25, 25, 25, 25, 125, 125, 125, 125, 125, 125, 125, 625, 625]
  },
  {
    name: 'Strengthening Potion',
    values: [350, 350, 350, 350, 350, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70],
    quantities: [1, 1, 1, 1, 1, 2, 1, 1, 1, 2, 2, 5, 5, 5, 5, 10, 10, 10, 25, 25, 25, 50, 50, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 625, 1250, 1250, 3125, 3125, 3125, 3125, 6250, 6250, 15625, 15625, 15625, 15625, 31250]
  },
  {
    name: 'Fortune Potion',
    values: [3500, 3500, 3500, 3500, 3500, 1750, 700, 700, 700, 350, 350, 140, 140, 140, 140, 70, 70, 70, 140, 140, 140, 70, 70, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 140, 70, 70, 140, 140, 140, 140, 70, 70, 140, 140, 140, 140, 70],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 5, 5, 5, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 125, 125, 125, 625, 625, 625, 625, 625, 625, 3125, 3125, 3125, 3125, 3125]
  },
  {
    name: 'Elemental Vial',
    values: [700, 700, 700, 700, 700, 700, 350, 140, 140, 140, 70, 70, 140, 140, 140, 140, 70, 70, 140, 140, 140, 140, 70, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 140, 140, 70, 70, 140, 140, 140, 140, 70, 70, 70, 70, 140, 140],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 5, 5, 5, 5, 25, 25, 25, 25, 25, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 625, 625, 625, 625, 3125, 3125, 3125, 3125, 3125, 3125, 3125, 3125, 15625, 15625]
  },
  {
    name: 'Blood of Titan',
    values: [7000, 7000, 7000, 7000, 7000, 7000, 3500, 1400, 1400, 1400, 700, 700, 280, 280, 280, 280, 140, 140, 280, 280, 280, 280, 140, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 280, 280, 140, 140, 280, 280, 280, 280, 140, 140, 140, 140, 280, 280],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 5, 5, 5, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 125, 125, 125, 125, 625, 625, 625, 625, 625, 625, 625, 625, 3125, 3125]
  },
  {
    name: 'Dragon Soul Stone',
    values: [700, 700, 700, 350, 350, 140, 140, 140, 70, 70, 70, 140, 140, 70, 70, 140, 140, 140, 140, 140, 70, 140, 140, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 70, 140, 140, 140, 140, 70, 70, 140, 140, 140, 140, 140, 70, 140],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 5, 5, 5, 5, 25, 25, 25, 25, 25, 25, 125, 125, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 125, 625, 625, 625, 625, 625, 625, 3125, 3125, 3125, 3125, 3125, 3125, 15625]
  },
  {
    name: 'Deluxe Dragon Soul Stone',
    values: [7000, 7000, 7000, 3500, 3500, 1400, 1400, 1400, 700, 700, 700, 280, 280, 140, 140, 280, 280, 280, 280, 280, 140, 280, 280, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 140, 280, 280, 280, 280, 140, 140, 280, 280, 280, 280, 280, 140, 280],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 5, 5, 5, 5, 5, 25, 25, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 25, 125, 125, 125, 125, 125, 125, 625, 625, 625, 625, 625, 625, 3125]
  },
  {
    name: 'N Hero Card',
    values: [100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  },
  {
    name: 'R Hero Card',
    values: [700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700, 700],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  },
  {
    name: 'SR Hero Card',
    values: [3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500, 3500],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  },
  {
    name: 'SSR Hero Card',
    values: [14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000, 14000],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  },
  {
    name: 'Monsters',
    values: [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  },
  {
    name: 'Titan Rally',
    values: [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  },
  {
    name: 'Evil Guard',
    values: [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  },
  {
    name: 'Dark Priest',
    values: [500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  },
  {
    name: 'Gallery Shard',
    values: [1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000],
    quantities: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
  }
]

async function seedMKData() {
  try {
    const supabase = createClient()
    
    console.log('Starting MK seasons data seeding...')
    
    for (const item of MK_SEASONS_DATA) {
      console.log(`Inserting ${item.name}...`)
      
      const { data, error } = await supabase
        .from('mk_seasons_data')
        .upsert({
          item_name: item.name,
          season_values: item.values,
          season_quantities: item.quantities
        }, {
          onConflict: 'item_name'
        })
      
      if (error) {
        console.error(`Error inserting ${item.name}:`, error)
      } else {
        console.log(`✓ Successfully inserted ${item.name}`)
      }
    }
    
    console.log('✅ MK seasons data seeding completed!')
    
  } catch (error) {
    console.error('❌ Error during seeding:', error)
  }
}

export default seedMKData

// Run the seeding function if this script is executed directly
if (typeof window === 'undefined') {
  seedMKData()
}
